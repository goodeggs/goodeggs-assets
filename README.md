# goodeggs-assets

Shared runtime code to manage assets

[![build status][travis-badge]][travis-link]
[![npm version][npm-badge]][npm-link]
[![MIT license][license-badge]][license-link]
[![we're hiring][hiring-badge]][hiring-link]


## Usage

```
npm install --save goodeggs-assets
```

```js
var goodeggsAssets = require('goodeggs-assets');
var express = require('express');
var app = express();
app.use(goodeggsAssets.middleware());
```

**When `NODE_ENV` is `production`:**
  * static assets will be served from `build/public`
  * assets will include far-future headers
  * `goodeggsAssets.assetPath` will translate paths using the manifest at `build/rev-manifest.json`

**For other values of `NODE_ENV`:**
  * static assets will be served from `public`
  * `goodeggsAsets.assetPath` will simply echo back the requested path


*The paths above are all configurable using your `Assetfile`.  See [goodeggs-assets-cli][goodeggs-assets-cli] for more information on the `Assetfile`.*

### View Helper

`res.locals.assetPath` will be set by the middleware, so if you're using an Express rendering engine, you can put calls like `this.assetPath('/img/foo.jpg')` in your templates, and they'll be translated to versioned URLs in production.

## Contributing

Please follow our [Code of Conduct](https://github.com/goodeggs/goodeggs-assets/blob/master/CODE_OF_CONDUCT.md)
when contributing to this project.

```
$ git clone https://github.com/goodeggs/goodeggs-assets && cd goodeggs-assets
$ npm install
$ npm test
```

_Module scaffold generated by [generator-goodeggs-npm](https://github.com/goodeggs/generator-goodeggs-npm)._


[travis-badge]: http://img.shields.io/travis/goodeggs/goodeggs-assets.svg?style=flat-square
[travis-link]: https://travis-ci.org/goodeggs/goodeggs-assets
[npm-badge]: http://img.shields.io/npm/v/goodeggs-assets.svg?style=flat-square
[npm-link]: https://www.npmjs.org/package/goodeggs-assets
[license-badge]: http://img.shields.io/badge/license-MIT-blue.svg?style=flat-square
[license-link]: LICENSE.md
[hiring-badge]: https://img.shields.io/badge/we're_hiring-yes-brightgreen.svg?style=flat-square
[hiring-link]: http://goodeggs.jobscore.com/?detail=Open+Source&sid=161
[goodeggs-assets-cli]: https://github.com/goodeggs/goodeggs-assets-cli
